(this.webpackJsonptelefunken=this.webpackJsonptelefunken||[]).push([[0],{51:function(e,t,n){e.exports=n(94)},56:function(e,t,n){},91:function(e,t){},94:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),s=n(14),u=n.n(s),o=n(16),l=n(4),i=(n(56),n(17)),m=n(18),d=n(22),p=n(23),E=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={username:"",gameId:""},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("username")?localStorage.getItem("username"):"";this.setState({username:e})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("h2",null,"Welcome!"),c.a.createElement("form",{action:"submit"},c.a.createElement("p",null,"What's your name?"),c.a.createElement("input",{id:"welcome__input--username",type:"text",placeholder:"Enter name",value:this.state.username,onChange:function(){return function(){var t=document.getElementById("welcome__input--username").value;e.setState({username:t})}()}}),c.a.createElement("p",null,"Name a game:"),c.a.createElement("input",{id:"welcome__input--gameId",type:"text",placeholder:"Enter game ID",value:this.state.gameId,onChange:function(){return function(){var t=document.getElementById("welcome__input--gameId").value;e.setState({gameId:t})}()}}),c.a.createElement("p",null,c.a.createElement("button",{onClick:function(t){return function(t){t.preventDefault();var n=document.getElementById("welcome__input--username").value,a=document.getElementById("welcome__input--gameId").value;localStorage.setItem("username",n),localStorage.setItem("gameId",a),e.props.history.push("/game/".concat(a))}(t)}},"Go!"))))}}]),n}(r.Component),h=Object(l.f)(E),g=n(19),v=n(21),I=n(50),f=n.n(I);var _=function(e){return c.a.createElement("div",null,e.user.username," | ",e.user.cards," | ",e.user.isOnline?"online":"offline")},O=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleCardAddButton=e.handleCardAddButton.bind(Object(g.a)(e)),e}return Object(m.a)(n,[{key:"handleCardAddButton",value:function(){this.props.dispatch({type:"INCREMENT_USER_CARDS",value:1}),console.log("gameId:",this.props.gameId),this.socket.emit("handleCardAddButton",this.props.gameId,this.props.user)}},{key:"componentDidMount",value:function(){var e=this,t=window.location.pathname.split("/")[2];this.props.dispatch({type:"SET_GAMEID",gameId:t}),this.socket=f.a.connect(this.props.endpoint,{query:"gameId="+t});var n=localStorage.getItem("username")?localStorage.getItem("username"):"";this.props.dispatch({type:"SET_USERNAME",username:n}),this.socket.emit("login",t,n),this.socket.on("updateUserInfo",(function(t){e.props.user.username===t.username&&e.props.dispatch({type:"UPDATE_USER_INFO",username:t.username,id:t.id,userCards:t.userCards})})),this.socket.on("connectedUsers",(function(t){e.props.dispatch({type:"SET_CONNECTEDUSERS",value:t})}))}},{key:"render",value:function(){var e=this,t=this.props.connectedUsers.map((function(t){return t.username!==e.props.user.username&&c.a.createElement(_,{key:t.username,user:t})}));return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",null,c.a.createElement("span",null,"You: ",c.a.createElement(_,{key:e.props.user.username,user:e.props.user}))),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement("span",null,"Other players:"),c.a.createElement("span",null,t)),c.a.createElement("div",null,"Number of connected players: ",this.props.connectedUsers.length),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.handleCardAddButton()}},"Add test")))}}]),n}(r.Component);var b=Object(v.b)((function(e){return{count:e.count,endpoint:e.endpoint,gameId:e.gameId,connectedUsers:e.connectedUsers,user:e.user}}))(Object(l.f)(O));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(20),y={endpoint:"localhost:4001/game",gameId:"",connectedUsers:[],user:{socketId:"",username:"",cards:0},count:10};var C=Object(S.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCREMENT":return Object(a.a)({},e,{count:e.count+1});case"SET_GAMEID":return Object(a.a)({},e,{gameId:t.gameId});case"SET_USERNAME":return Object(a.a)({},e,{user:Object(a.a)({},e.user,{username:t.username})});case"INCREMENT_USER_CARDS":return Object(a.a)({},e,{user:Object(a.a)({},e.user,{cards:e.user.cards+1})});case"SET_CONNECTEDUSERS":return Object(a.a)({},e,{connectedUsers:t.value});case"UPDATE_USER_INFO":return Object(a.a)({},e,{user:Object(a.a)({},e.user,{id:t.id,username:t.username,cards:t.userCards})});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),j=function(){return c.a.createElement(v.a,{store:C},c.a.createElement(o.a,null,c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/game/:gameId"},c.a.createElement(b,null)),c.a.createElement(l.a,{path:"/"},c.a.createElement(h,null)))))};u.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.35f77c78.chunk.js.map